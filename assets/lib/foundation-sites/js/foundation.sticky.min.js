!function(t,i){"use strict";function s(e,o){this.$element=e,this.options=t.extend({},s.defaults,this.$element.data(),o),this._init(),i.registerPlugin(this,"Sticky")}function e(t){return parseInt(window.getComputedStyle(document.body,null).fontSize,10)*t}s.defaults={container:"<div data-sticky-container></div>",stickTo:"top",anchor:"",topAnchor:"",btmAnchor:"",marginTop:1,marginBottom:1,stickyOn:"medium",stickyClass:"sticky",containerClass:"sticky-container",checkEvery:-1},s.prototype._init=function(){var s=this.$element.parent("[data-sticky-container]"),e=this.$element[0].id||i.GetYoDigits(6,"sticky"),o=this;s.length||(this.wasWrapped=!0),this.$container=s.length?s:t(this.options.container).wrapInner(this.$element),this.$container.addClass(this.options.containerClass),this.$element.addClass(this.options.stickyClass).attr({"data-resize":e}),this.scrollCount=this.options.checkEvery,this.isStuck=!1,""!==this.options.anchor?this.$anchor=t("#"+this.options.anchor):this._parsePoints(),this._setSizes(function(){o._calc(!1)}),this._events(e.split("-").reverse().join("-"))},s.prototype._parsePoints=function(){var i=this.options.topAnchor,s=this.options.btmAnchor,e=[i,s],o={};if(i&&s)for(var n=0,h=e.length;h>n&&e[n];n++){var c;if("number"==typeof e[n])c=e[n];else{var r=e[n].split(":"),a=t("#"+r[0]);c=a.offset().top,r[1]&&"bottom"===r[1].toLowerCase()&&(c+=a[0].getBoundingClientRect().height)}o[n]=c}else o={0:1,1:document.documentElement.scrollHeight};this.points=o},s.prototype._events=function(i){var s=this,e=this.scrollListener="scroll.zf."+i;this.isOn||(this.canStick&&(this.isOn=!0,t(window).off(e).on(e,function(t){0===s.scrollCount?(s.scrollCount=s.options.checkEvery,s._setSizes(function(){s._calc(!1,window.pageYOffset)})):(s.scrollCount--,s._calc(!1,window.pageYOffset))})),this.$element.off("resizeme.zf.trigger").on("resizeme.zf.trigger",function(t,o){s._setSizes(function(){s._calc(!1),s.canStick?s.isOn||s._events(i):s.isOn&&s._pauseListeners(e)})}))},s.prototype._pauseListeners=function(i){this.isOn=!1,t(window).off(i),this.$element.trigger("pause.zf.sticky")},s.prototype._calc=function(t,i){return t&&this._setSizes(),this.canStick?(i||(i=window.pageYOffset),void(i>=this.topPoint?i<=this.bottomPoint?this.isStuck||this._setSticky():this.isStuck&&this._removeSticky(!1):this.isStuck&&this._removeSticky(!0))):(this.isStuck&&this._removeSticky(!0),!1)},s.prototype._setSticky=function(){var t=this.options.stickTo,i="top"===t?"marginTop":"marginBottom",s="top"===t?"bottom":"top",e={};e[i]=this.options[i]+"em",e[t]=0,e[s]="auto",e.left=this.$container.offset().left+parseInt(window.getComputedStyle(this.$container[0])["padding-left"],10),this.isStuck=!0,this.$element.removeClass("is-anchored is-at-"+s).addClass("is-stuck is-at-"+t).css(e).trigger("sticky.zf.stuckto:"+t)},s.prototype._removeSticky=function(t){var i=this.options.stickTo,s="top"===i,e={},o=(this.points?this.points[1]-this.points[0]:this.anchorHeight)-this.elemHeight,n=s?"marginTop":"marginBottom",h=s?"bottom":"top",c=t?"top":"bottom";e[n]=0,t&&!s||s&&!t?(e[i]=o,e[h]=0):(e[i]=0,e[h]=o),e.left="",this.isStuck=!1,this.$element.removeClass("is-stuck is-at-"+i).addClass("is-anchored is-at-"+c).css(e).trigger("sticky.zf.unstuckfrom:"+c)},s.prototype._setSizes=function(t){this.canStick=i.MediaQuery.atLeast(this.options.stickyOn),this.canStick||t();var s=this.$container[0].getBoundingClientRect().width,e=window.getComputedStyle(this.$container[0]),o=parseInt(e["padding-right"],10);this.$anchor&&this.$anchor.length?this.anchorHeight=this.$anchor[0].getBoundingClientRect().height:this._parsePoints(),this.$element.css({"max-width":s-o+"px"});var n=this.$element[0].getBoundingClientRect().height||this.containerHeight;this.containerHeight=n,this.$container.css({height:n}),this.elemHeight=n,this.isStuck&&this.$element.css({left:this.$container.offset().left+parseInt(e["padding-left"],10)}),this._setBreakPoints(n,function(){t&&t()})},s.prototype._setBreakPoints=function(t,i){if(!this.canStick){if(!i)return!1;i()}var s=e(this.options.marginTop),o=e(this.options.marginBottom),n=this.points?this.points[0]:this.$anchor.offset().top,h=this.points?this.points[1]:n+this.anchorHeight,c=window.innerHeight;"top"===this.options.stickTo?(n-=s,h-=t+s):"bottom"===this.options.stickTo&&(n-=c-(t+o),h-=c-o),this.topPoint=n,this.bottomPoint=h,i&&i()},s.prototype.destroy=function(){this._removeSticky(!0),this.$element.removeClass(this.options.stickyClass+" is-anchored is-at-top").css({height:"",top:"",bottom:"","max-width":""}).off("resizeme.zf.trigger"),this.$anchor.off("change.zf.sticky"),t(window).off(this.scrollListener),this.wasWrapped?this.$element.unwrap():this.$container.removeClass(this.options.containerClass).css({height:""}),i.unregisterPlugin(this)},i.plugin(s,"Sticky")}(jQuery,window.Foundation);