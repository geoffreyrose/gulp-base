!function(t,i){"use strict";function e(s,n){this.$element=s,this.options=t.extend({},e.defaults,this.$element.data(),n),this._init(),i.registerPlugin(this,"Slider"),i.Keyboard.register("Slider",{ltr:{ARROW_RIGHT:"increase",ARROW_UP:"increase",ARROW_DOWN:"decrease",ARROW_LEFT:"decrease",SHIFT_ARROW_RIGHT:"increase_fast",SHIFT_ARROW_UP:"increase_fast",SHIFT_ARROW_DOWN:"decrease_fast",SHIFT_ARROW_LEFT:"decrease_fast"},rtl:{ARROW_LEFT:"increase",ARROW_RIGHT:"decrease",SHIFT_ARROW_LEFT:"increase_fast",SHIFT_ARROW_RIGHT:"decrease_fast"}})}function s(t,i){return t/i}function n(t,i,e,s){return Math.abs(t.position()[i]+t[s]()/2-e)}e.defaults={start:0,end:100,step:1,initialStart:0,initialEnd:100,binding:!1,clickSelect:!0,vertical:!1,draggable:!0,disabled:!1,doubleSided:!1,decimal:2,moveTime:200,disabledClass:"disabled",invertVertical:!1},e.prototype._init=function(){this.inputs=this.$element.find("input"),this.handles=this.$element.find("[data-slider-handle]"),this.$handle=this.handles.eq(0),this.$input=this.inputs.length?this.inputs.eq(0):t("#"+this.$handle.attr("aria-controls")),this.$fill=this.$element.find("[data-slider-fill]").css(this.options.vertical?"height":"width",0);var i=!1,e=this;(this.options.disabled||this.$element.hasClass(this.options.disabledClass))&&(this.options.disabled=!0,this.$element.addClass(this.options.disabledClass)),this.inputs.length||(this.inputs=t().add(this.$input),this.options.binding=!0),this._setInitAttr(0),this._events(this.$handle),this.handles[1]&&(this.options.doubleSided=!0,this.$handle2=this.handles.eq(1),this.$input2=this.inputs.length>1?this.inputs.eq(1):t("#"+this.$handle2.attr("aria-controls")),this.inputs[1]||(this.inputs=this.inputs.add(this.$input2)),i=!0,this._setHandlePos(this.$handle,this.options.initialStart,!0,function(){e._setHandlePos(e.$handle2,e.options.initialEnd,!0)}),this._setInitAttr(1),this._events(this.$handle2)),i||this._setHandlePos(this.$handle,this.options.initialStart,!0)},e.prototype._setHandlePos=function(t,e,n,a){e=parseFloat(e),e<this.options.start?e=this.options.start:e>this.options.end&&(e=this.options.end);var o=this.options.doubleSided;if(o)if(0===this.handles.index(t)){var l=parseFloat(this.$handle2.attr("aria-valuenow"));e=e>=l?l-this.options.step:e}else{var d=parseFloat(this.$handle.attr("aria-valuenow"));e=d>=e?d+this.options.step:e}this.options.vertical&&!n&&(e=this.options.end-e);var h=this,r=this.options.vertical,p=r?"height":"width",f=r?"top":"left",u=t[0].getBoundingClientRect()[p],c=this.$element[0].getBoundingClientRect()[p],g=s(e,this.options.end).toFixed(2),v=(c-u)*g,_=(100*s(v,c)).toFixed(this.options.decimal),e=parseFloat(e.toFixed(this.options.decimal)),$={};if(this._setValues(t,e),o){var m,R=0===this.handles.index(t),b=~~(100*s(u,c));if(R)$[f]=_+"%",m=parseFloat(this.$handle2[0].style[f])-_+b,a&&"function"==typeof a&&a();else{var S=parseFloat(this.$handle[0].style[f]);m=_-(isNaN(S)?this.options.initialStart:S)+b}$["min-"+p]=m+"%"}this.$element.one("finished.zf.animate",function(){h.$element.trigger("moved.zf.slider",[t])});var F=this.$element.data("dragging")?1e3/60:this.options.moveTime;i.Move(F,t,function(){t.css(f,_+"%"),h.options.doubleSided?h.$fill.css($):h.$fill.css(p,100*g+"%")})},e.prototype._setInitAttr=function(t){var e=this.inputs.eq(t).attr("id")||i.GetYoDigits(6,"slider");this.inputs.eq(t).attr({id:e,max:this.options.end,min:this.options.start}),this.handles.eq(t).attr({role:"slider","aria-controls":e,"aria-valuemax":this.options.end,"aria-valuemin":this.options.start,"aria-valuenow":0===t?this.options.initialStart:this.options.initialEnd,"aria-orientation":this.options.vertical?"vertical":"horizontal",tabindex:0})},e.prototype._setValues=function(t,i){var e=this.options.doubleSided?this.handles.index(t):0;this.inputs.eq(e).val(i),t.attr("aria-valuenow",i)},e.prototype._handleEvent=function(t,e,a){var o,l;if(a)o=a,l=!0;else{t.preventDefault();var d=this.options.vertical,h=d?"height":"width",r=d?"top":"left",p=d?t.pageY:t.pageX,f=this.$handle[0].getBoundingClientRect()[h]/2,u=this.$element[0].getBoundingClientRect()[h],c=this.$element.offset()[r]-p,g=c>0?-f:-u>c-f?u:Math.abs(c),v=s(g,u);if(o=(this.options.end-this.options.start)*v,i.rtl()&&!this.options.vertical&&(o=this.options.end-o),l=!1,!e){var _=n(this.$handle,r,g,h),$=n(this.$handle2,r,g,h);e=$>=_?this.$handle:this.$handle2}}this._setHandlePos(e,o,l)},e.prototype._events=function(e){if(this.options.disabled)return!1;var s,n=this;if(this.inputs.off("change.zf.slider").on("change.zf.slider",function(i){var e=n.inputs.index(t(this));n._handleEvent(i,n.handles.eq(e),t(this).val())}),this.options.clickSelect&&this.$element.off("click.zf.slider").on("click.zf.slider",function(t){return n.$element.data("dragging")?!1:void(n.options.doubleSided?n._handleEvent(t):n._handleEvent(t,n.$handle))}),this.options.draggable){this.handles.addTouch();var a=t("body");e.off("mousedown.zf.slider").on("mousedown.zf.slider",function(i){e.addClass("is-dragging"),n.$fill.addClass("is-dragging"),n.$element.data("dragging",!0),s=t(i.currentTarget),a.on("mousemove.zf.slider",function(t){t.preventDefault(),n._handleEvent(t,s)}).on("mouseup.zf.slider",function(t){n._handleEvent(t,s),e.removeClass("is-dragging"),n.$fill.removeClass("is-dragging"),n.$element.data("dragging",!1),a.off("mousemove.zf.slider mouseup.zf.slider")})})}e.off("keydown.zf.slider").on("keydown.zf.slider",function(e){var s,a=t(this),o=n.options.doubleSided?n.handles.index(a):0,l=parseFloat(n.inputs.eq(o).val());i.Keyboard.handleKey(e,"Slider",{decrease:function(){s=l-n.options.step},increase:function(){s=l+n.options.step},decrease_fast:function(){s=l-10*n.options.step},increase_fast:function(){s=l+10*n.options.step},handled:function(){e.preventDefault(),n._setHandlePos(a,s,!0)}})})},e.prototype.destroy=function(){this.handles.off(".zf.slider"),this.inputs.off(".zf.slider"),this.$element.off(".zf.slider"),i.unregisterPlugin(this)},i.plugin(e,"Slider")}(jQuery,window.Foundation);